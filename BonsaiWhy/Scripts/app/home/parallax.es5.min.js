"use strict";(function(n){typeof define=="function"&&define.amd?define([],n):Parallax=n()})(function(){var u=!1,l=!1,s=-1,f,h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),a=function(n){var t=n.getBoundingClientRect().top,i=n.getBoundingClientRect().bottom;return t>=0&&t<=document.documentElement.clientHeight||i>=0&&i<=document.documentElement.clientHeight},i=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,n[r],r,n)},t,e,o,n,c=function(){u=!0;i(e,function(r,u){a(r)&&i(o[u],function(i,f){var tt=n[u][f].dattr,s=(document.documentElement.clientHeight-r.getBoundingClientRect().top)/(document.documentElement.clientHeight+r.clientHeight)-tt,o,h,e,c,a,w,b,v,y,p,l;s<0&&(s=0);o=0;h=n[u][f].xattr;h&&(isNaN(h)?h=="center"?(o=(r.clientWidth-i.getBoundingClientRect().width)/r.clientWidth,o=o/2):h=="right"&&(o=(r.clientWidth-i.getBoundingClientRect().width)/r.clientWidth):o=h);o+=n[u][f].txattr*s;o=Math.round(r.clientWidth*o);e=0;c=n[u][f].yattr;c&&(isNaN(c)?c=="center"?(e=(r.clientHeight-i.getBoundingClientRect().height)/r.clientHeight,e=e/2):c=="bottom"&&(e=(r.clientHeight-i.getBoundingClientRect().height)/r.clientHeight):e=c);e+=n[u][f].tyattr*s;e=Math.round(r.clientHeight*e);a=n[u][f].lattr;a&&(w=a*r.clientHeight.clientHeight,b=r.clientHeight.clientHeight-i.getBoundingClientRect().height,e=Math.min(Math.max(e,w),b));var k=1,d=n[u][f].sxattr;d&&(k=d*s);v=1;y=n[u][f].syattr;y&&(v=y*s);var it="translate3d("+o+"px,"+e+"px,0px)",rt="scale3d("+k+","+v+",1)";if(i.setAttribute("style","transform:"+it+rt+";"),p=n[u][f].rattr,p){var g=p*s,ut=Math.max(0,g-.1),ft=Math.min(1,g),et=Math.round(t.length*ut),ot=Math.round(t.length*ft),nt="";for(l=et;l<ot;l++)nt+=t[l]+"Z";document.querySelector(".water-path").setAttribute("d",nt)}})});u=!1},r=function(){var n,t;u||(l?(n=Date.now()-f,n>s&&(t=Date.now(),h(c),s=2*(Date.now()-t),f=Date.now())):h(c))},v=function(){var r=document.querySelector(".soil-path");t=r.getAttribute("d").split("Z");t.pop();e=document.querySelectorAll(".parallax");o=[];n=[];i(e,function(t){var u=t.querySelectorAll(".layer"),r;o.push(u);r=[];i(u,function(n){var c=n.getAttribute("data-parallax-delay"),t,u,i,f,e,o,s,h,l;c=parseFloat(c)?parseFloat(c):0;t=n.getAttribute("data-position-x");t=parseFloat(t)?parseFloat(t):t;u=n.getAttribute("data-parallax-translatex");u=parseFloat(u)?parseFloat(u):0;i=n.getAttribute("data-position-y");i=parseFloat(i)?parseFloat(i):i;f=n.getAttribute("data-parallax-translatey");f=parseFloat(f)?parseFloat(f):0;e=n.getAttribute("data-parallax-limit");e=parseFloat(e)?parseFloat(e):0;o=n.getAttribute("data-parallax-scalex");o=parseFloat(o)?parseFloat(o):0;s=n.getAttribute("data-parallax-scaley");s=parseFloat(s)?parseFloat(s):0;h=n.getAttribute("data-parallax-reveal");h=parseFloat(h)?parseFloat(h):0;l={dattr:c,xattr:t,txattr:u,yattr:i,tyattr:f,lattr:e,sxattr:o,syattr:s,rattr:h};r.push(l)});n.push(r)})},y=function(){v();f=Date.now();r();window.addEventListener("resize",function(){r()});window.addEventListener("orientationchange",function(){r()});window.addEventListener("scroll",function(){r()})};return{Init:y}});